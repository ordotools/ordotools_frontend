<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Liturgical Calendar</title>

    <link rel="stylesheet" href="styles.css">
    <!-- Narrow font options: Roboto Condensed, Open Sans Condensed, or PT Sans Narrow -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Open+Sans+Condensed:wght@300;700&family=PT+Sans+Narrow:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bold font for day numbers -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <!-- Flatpickr Date Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo" aria-label="Liturgical Calendar Application">
                <span>LITURGICAL CALENDAR</span>
            </div>

            <div class="nav-controls" role="navigation" aria-label="Month navigation">
                <div class="month-nav">
                    <button class="nav-btn" id="prevBtn" aria-label="Go to previous month">
                        ◀
                    </button>
                    <div class="current-month" id="currentMonth" tabindex="0" role="button" aria-label="Current month and year, click to select date">
                        January 2024
                    </div>
                    <input type="text" id="datePickerInput" style="display: none;">
                    <button class="nav-btn" id="nextBtn" aria-label="Go to next month">
                        ▶
                    </button>
                </div>
            </div>

            <div class="header-actions" role="toolbar" aria-label="Calendar actions">
                <button class="action-btn" id="todayBtn">
                    <span>Today</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container" id="main-content">
        <!-- Desktop Calendar View -->
        <div class="calendar-wrapper" id="calendarWrapper" role="grid" aria-label="Monthly calendar">
            <div class="calendar-header" role="row">
                <div class="day-header" role="columnheader" scope="col">Sunday</div>
                <div class="day-header" role="columnheader" scope="col">Monday</div>
                <div class="day-header" role="columnheader" scope="col">Tuesday</div>
                <div class="day-header" role="columnheader" scope="col">Wednesday</div>
                <div class="day-header" role="columnheader" scope="col">Thursday</div>
                <div class="day-header" role="columnheader" scope="col">Friday</div>
                <div class="day-header" role="columnheader" scope="col">Saturday</div>
            </div>
            <div class="calendar-grid" id="calendarGrid" role="rowgroup">
                <!-- Calendar cells will be generated by JavaScript -->
            </div>
        </div>

        <!-- Mobile View -->
        <div class="mobile-view" id="mobileView" role="list" aria-label="Monthly calendar mobile view">
            <!-- Mobile calendar items will be generated by JavaScript -->
        </div>

        <!-- Loading State -->
        <div class="loading-container" id="loadingContainer" style="display: none;" role="status" aria-live="polite" aria-label="Loading calendar data">
            <div class="loading-spinner" aria-hidden="true"></div>
            <div class="loading-text">Loading liturgical data...</div>
            <div class="loading-subtext">Fetching calendar information from OrdoTools</div>
        </div>

        <!-- Error State -->
        <div class="error-container" id="errorContainer" style="display: none;" role="alert" aria-live="assertive">
            <div class="error-icon" aria-hidden="true">⚠️</div>
            <h2 class="error-title">Unable to Load Calendar</h2>
            <p class="error-message" id="errorMessage">
                We're having trouble connecting to the liturgical calendar service.
            </p>
            <button class="action-btn primary" id="retryBtn" aria-label="Retry loading calendar data">
                <span>Try Again</span>
            </button>
        </div>
    </main>


    <!-- JavaScript -->
    <script src="app.js"></script>
</body>
</html>